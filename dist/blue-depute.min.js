/*!
 * 
 * blue-depute.js 1.0.0
 * (c) 2016-2024 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-depute
 * time:Fri, 23 Feb 2024 10:09:22 GMT
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BlueDepute=t():e.BlueDepute=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./static",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){return function(e){this.data=e.data,this.type=e.type,this.eventId=e.eventId}}();function r(){}var i=function(){function e(e){void 0===e&&(e={}),this.opts=Object.assign({eventIdSymbol:"$"},e),this.events={},this.hooks=Object.assign({on:function(){},off:function(){},emit:function(){}},e.hooks)}return e.prototype.on=function(e,t,n){void 0===t&&(t=r),void 0===n&&(n={});var o=this.events,i=o[e];i||(i=o[e]={queue:[],type:e});var u=this.genEventId();return i.queue.push({handler:t,eventId:u,opts:n}),this.eventHook({name:"on",type:e,eventId:u}),u},e.prototype.once=function(e,t){return this.on(e,t,{once:!0})},e.prototype.off=function(e,t){var n=this.getType(e),o=n[0],r=n[1],i=this.findEvent(o);if(!i)return!1;var u=i.queue;if(void 0===t&&void 0===r){for(;u.length;){var f=u.pop();this.eventHook({name:"off",type:o,eventId:f.eventId})}return!0}for(var d=-1;-1!==(d=u.findIndex(function(e){return void 0===r&&e.handler===t||r===e.eventId}));){var p=null;void 0===r?p=u.splice(d,1)[0]:u[d].eventId===r&&(p=u.splice(d,1)[0]),this.eventHook({name:"off",type:o,eventId:p.eventId})}return!0},e.prototype.emit=function(e,t){var n=this,r=this.getType(e),i=r[0],u=r[1],f=this.findEvent(i);return f?(f.queue.forEach(function(e){void 0!==u&&e.eventId!==u||(n.hook(n,e.handler,[new o({data:t,type:i,eventId:e.eventId})]),n.eventHook({name:"emit",type:i,eventId:e.eventId}),e.opts.once&&n.off(""+i+n.opts.eventIdSymbol+e.eventId,e.handler))}),!0):(console.log("warn not find "+i+" event in current Depute"),!1)},e.prototype.eventHook=function(e){var t=this.hooks[e.name];t&&this.hook(this,t,[e])},e.prototype.hook=function(e,t,n){return void 0===n&&(n=[]),"function"==typeof t?t.apply(e,n):t},e.prototype.genEventId=function(){return++e._eventId},e.prototype.findEvent=function(e){return this.events[e]||null},e.prototype.getType=function(e){var t=e.split(this.opts.eventIdSymbol),n=t[0],o=t[1],r=parseInt(o);return r||(r=void 0),[n,r]},e._eventId=0,e}();t.default=i}]).default});
//# sourceMappingURL=blue-depute.min.js.map