/*!
 * 
 * blue-depute.js 1.0.2
 * (c) 2016-2025 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-depute
 * time:Tue, 19 Aug 2025 06:18:48 GMT
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BlueDepute=t():e.BlueDepute=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./static",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_HOOK_TYPES",function(){return o});var o,r=function(){return function(e){this.data=e.data,this.type=e.type,this.eventId=e.eventId}}();function i(){}!function(e){e.ON="on",e.OFF="off",e.EMIT="emit"}(o||(o={}));var u=function(){function e(e){void 0===e&&(e={}),this.opts=Object.assign({eventIdSymbol:"$"},e),this.events={},this.hooks=Object.assign({on:function(){},off:function(){},emit:function(){}},e.hooks)}return e.prototype.on=function(e,t,n){void 0===t&&(t=i),void 0===n&&(n={});var r=this.events,u=r[e];u||(u=r[e]={queue:[],type:e});var f=this.genEventId();return u.queue.push({handler:t,eventId:f,opts:n}),this.eventHook({name:o.ON,type:e,eventId:f}),f},e.prototype.once=function(e,t){return this.on(e,t,{once:!0})},e.prototype.off=function(e,t){var n=this.getType(e),r=n[0],i=n[1],u=this.findEvent(r);if(!u)return!1;var f=u.queue;if(void 0===t&&void 0===i){for(;f.length;){var d=f.pop();this.eventHook({name:o.OFF,type:r,eventId:d.eventId})}return!0}for(var p=-1;-1!==(p=f.findIndex(function(e){return void 0===i&&e.handler===t||i===e.eventId}));){var v=null;void 0===i?v=f.splice(p,1)[0]:f[p].eventId===i&&(v=f.splice(p,1)[0]),this.eventHook({name:o.OFF,type:r,eventId:v.eventId})}return!0},e.prototype.emit=function(e,t){var n=this,i=this.getType(e),u=i[0],f=i[1],d=this.findEvent(u);return d?(d.queue.forEach(function(e){void 0!==f&&e.eventId!==f||(n.hook(n,e.handler,[new r({data:t,type:u,eventId:e.eventId})]),n.eventHook({name:o.EMIT,type:u,eventId:e.eventId}),e.opts.once&&n.off(""+u+n.opts.eventIdSymbol+e.eventId,e.handler))}),!0):(console.log("warn not find "+u+" event in current Depute"),!1)},e.prototype.eventHook=function(e){var t=this.hooks[e.name];t&&this.hook(this,t,[e])},e.prototype.hook=function(e,t,n){return void 0===n&&(n=[]),"function"==typeof t?t.apply(e,n):t},e.prototype.genEventId=function(){return++e._eventId},e.prototype.findEvent=function(e){return this.events[e]||null},e.prototype.getType=function(e){var t=this.opts.eventIdSymbol,n=e.split(t),o=n[0],r=n[1],i=parseInt(r);return i||(i=void 0),[o,i]},e._eventId=0,e}();t.default=u}]).default});
//# sourceMappingURL=blue-depute.min.js.map